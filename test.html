<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Danh sách học sinh</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    input, button { margin: 5px; padding: 5px; }
    table { border-collapse: collapse; margin-top: 20px; }
    th, td { border: 1px solid #444; padding: 8px 12px; text-align: center; }
    th { background-color: #f2f2f2; }
  </style>
</head>
<body>
  <h2>Nhập danh sách học sinh</h2>
  
  <label for="count">Số lượng học sinh: </label>
  <input type="number" id="count" min="1">
  <button onclick="createInputs()">Tạo form nhập</button>
  
  <div id="formArea"></div>
  <div id="result"></div>
  
  <script>
    function createInputs() {
      const n = document.getElementById("count").value;
      const formArea = document.getElementById("formArea");
      formArea.innerHTML = ""; // reset
      
      if (n <= 0) {
        formArea.innerHTML = "<p>Hãy nhập số lượng hợp lệ.</p>";
        return;
      }
      
      let html = "<h3>Nhập thông tin học sinh</h3>";
      for (let i = 1; i <= n; i++) {
        html += `
          <div>
            Học sinh ${i}: 
            <input type="text" id="name${i}" placeholder="Tên">
            <input type="number" id="score${i}" placeholder="Điểm" step="0.1">
          </div>
        `;
      }
      html += `<button onclick="process(${n})">Sắp xếp</button>`;
      formArea.innerHTML = html;
    }
    
    function process(n) {
      let students = [];
      for (let i = 1; i <= n; i++) {
        const name = document.getElementById("name" + i).value.trim();
        const score = parseFloat(document.getElementById("score" + i).value);
        if (!name || isNaN(score)) {
          alert("Vui lòng nhập đầy đủ tên và điểm cho học sinh " + i);
          return;
        }
        students.push({ name, score });
      }
      
      // Sắp xếp giảm dần theo điểm
      students.sort((a, b) => b.score - a.score);
      
      // Hiển thị
      let result = "<h3>Kết quả sắp xếp</h3>";
      result += "<table><tr><th>STT</th><th>Tên</th><th>Điểm</th></tr>";
      students.forEach((s, i) => {
        result += `<tr><td>${i+1}</td><td>${s.name}</td><td>${s.score}</td></tr>`;
      });
      result += "</table>";
      
      document.getElementById("result").innerHTML = result;
    }
  </script>
</body>
</html>
